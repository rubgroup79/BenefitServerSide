<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="../Scripts/ajaxCalls.js"></script>
    <!--<link href="../Style.css" rel="stylesheet" />-->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">


    <script>



        $(document).ready(function () {




            //--------------------------------------------------------------------
            // ADD TRAINEE
            //--------------------------------------------------------------------
            //Trainee = {
            //    Email: "meidan@gmail.com",
            //    FirstName: "meidan",
            //    LastName: "weiss",
            //    Password: "12345",
            //    Gender: "Male",
            //    DateOfBirth: "1991-09-27",
            //    Picture: "fdfd",
            //    SearchRadius: 20,
            //    IsTrainer: 0,
            //    SportCategories: [2,3],
            //    MaxBudget: 350,
            //    PartnerGender: "Female",
            //    TrainerGender: "Male",
            //    MinPartnerAge: 23,
            //    MaxPartnerAge:28

            //}
            //obj = JSON.stringify(Trainee);
            //console.log(obj);
            //ajaxCall("POST", "../api/InsertTrainee", obj, success1, error);

            //str = {
            //    UserEmail: "stav@gmail.com"
            //}
            //ajaxCall("GET", "../api/CheckIfEmailExists", str, success1, error);

            //--------------------------------------------------------------------
            // ADD TRAINER
            //--------------------------------------------------------------------
            Trainer = {
                Email: "gh@gnk.com",
                Password: "111111111",
                FirstName: "b",
                LastName: "h",
                Gender: "Female",
                DateOfBirth: "1995-05-19",
                SportCategories:
                    [{ CategoryCode: 3, Description: "Jogging", Selected: true },
                    { CategoryCode: 6, Description: "Functional", Selected: true }],
                IsTrainer: 1,
                SearchRadius: 5,
                Picture: "http://proj.ruppin.ac.il/bgroup79/test1/tar6/uploadFiles/Female.jpg",
                PersonalTrainingPrice: 150
            }
            obj = JSON.stringify(Trainer);
            //console.log(obj);
            ajaxCall("POST", "../api/InsertTrainer", obj, success1, error);

            //--------------------------------------------------------------------
            // ADD ONLINE TRAINEE
            //--------------------------------------------------------------------

            //onlinehistorytrainee = {
            //    UserCode: 1,
            //    Latitude: 32.362144,
            //    Longitude: 34.859936,
            //    StartTime: "2019-06-18 10:00:00.123",
            //    EndTime: "2019-06-18 23:44:00.123",
            //    WithTrainer: 1,
            //    WithPartner: 1,
            //    GroupWithTrainer: 1,
            //    GroupWithPartners: 1
            //}

            //obj = JSON.stringify(onlinehistorytrainee);
            //console.log(obj);
            // ajaxCall("POST", "../api/insertonlinetrainee", obj, successInsertOnline, error);
            //ajaxCall("POST", "../api/SearchCoupleTraining", obj, successInsertOnline1, error);
            //ajaxCall("POST", "../api/SearchGroups", obj, successInsertOnline1, error);

            //delete from db
            // ajaxCall("GET", "../api/DeleteNotActive", obj, success1, error);

            //--------------------------------------------------------------------
            // ADD ONLINE TRAINER
            //--------------------------------------------------------------------

            //OnlineHistoryTrainer = {
            //    UserCode: 4,
            //    Latitude: "32.328673",
            //    Longitude: "34.906768",
            //    StartTime: "2019-03-16 09:00:29.123",
            //    EndTime: "2019-03-16 09:30:29.123"
            //}

            //obj = JSON.stringify(OnlineHistoryTrainer);
            //console.log(obj);
            //ajaxCall("POST", "../api/InsertOnlineTrainer", obj, successInsertOnline, error);


            //--------------------------------------------------------------------
            // ADD Group
            //--------------------------------------------------------------------

            //HistoryGroupTraining = {
            //    TrainingTime: "2019-04-03 16:00:00.123",
            //    Latitude: "32.360869",
            //    Longitude: "34.862154",
            //    WithTrainer: 1,
            //    CreatorCode: 4,
            //    MinParticipants: 2,
            //    MaxParticipants: 8,
            //    SportCategoryCode: 1,
            //    Price: 150
            //}

            //obj = JSON.stringify(HistoryGroupTraining);
            //console.log(obj);
            //ajaxCall("POST", "../api/InsertGroupTraining", obj, successInsertOnline, error);
            //ajaxCall("GET", "../api/GetSuggestions?UserCode=1&IsApproved=false", "", successGetLazy, error);
            //ajaxCall("GET", "../api/GetSuggestions?UserCode=1&IsApproved=false", "", successGetLazy, error);

            //details = {
            //    UserCode: 1,
            //    GroupTrainingCode:1
            //}

            //obj = JSON.stringify(details);
            // ajaxCall("POST", "../api/JoinGroup?UserCode=1&GroupTrainingCode=54", "", success1, error);

            //--------------------------------------------------------------------
            // check function GET LAZY TRAINEES
            //--------------------------------------------------------------------
            // ajaxCall("GET", "../api/GetPrefferedDay", "", successGetLazy, error);
            //ajaxCall("GET", "../api/getLazyTrainees", "", successGetLazy, error);
            // ajaxCall("GET", "../api/getLazyTrainers", "", successGetLazy, error);
            //ajaxCall("GET", "../api/start", "", successGetLazy, error);

            //Suggestion = {
            //	SenderCode: 28,
            //	ReciverCode: 29
            //}
            //obj = JSON.stringify(Suggestion);
            //  ajaxCall("GET", "../api/SendSuggestion?SenderCode=1&ReceiverCode=2", "", successSendSuggestion, error);
            //ajaxCall("POST", "../api/ReplySuggestion?SuggestionCode=1&reply="+"true", "", successSendSuggestion, error);
            //ajaxCall("GET", "../api/GetPendingSuggestions?UserCode=28&Sender=true", "", successSendSuggestion, error);
            //ajaxCall("POST", "../api/CancelSuggestion?SuggestionCode=29", "", successSendSuggestion, error);
            //  ajaxCall("GET", "../api/GetSuggestions?UserCode=1&IsApproved=false", "", successSendSuggestion, error);
            //ajaxCall("GET", "../api/GetFutureCoupleTrainings?UserCode=1", "", successSendSuggestion, error);
            //ajaxCall("POST", "../api/CancelCoupleTraining?CoupleTrainingCode=25&UserCode=1", "", successSendSuggestion, error);
            //ajaxCall("GET", "../api/checkForCloseTrainings?UserCode=4&TrainingTime=2019-06-19 18:00:00", "", successSendSuggestion, error);
            //ajaxCall("GET", "../api/CheckIfTrainerOnline?UserCode=4", "", successGetLazy, error);
            //ajaxCall("GET", "../api/CheckIfTraineeOnline?UserCode=1", "", successGetLazy, error);
            // ajaxCall("POST", "../api/OpenChat?UserCode1=1&UserCode2=5", "", successGetLazy, error);
            //ajaxCall("POST", "../api/GoOffline?UserCode=3&IsTrainer=0", "", success1, error);
            //ajaxCall("POST", "../api/CancelGroupParticipant?GroupTrainingCode=54&UserCode=1", "", successSendSuggestion, error);
            //     var pnd = {
            //         to: "ExponentPushToken[dADTjNJK3uxJLtuS24EOZN]",
            //        title: 'Long Time No See',
            //        body: 'Hi weve missed you! ',
            //        badge: 1
            //    }
            //ajaxCall("POST", "../sendpushnotification", JSON.stringify(pnd), successSendSuggestion, error);
            //ajaxCall("GET", "../api/GetFutureGroupTrainings?UserCode=1", "", successSendSuggestion, error);
            //  ajaxCall("GET", "../api/GetAllChats?UserCode=1", "", successGetLazy, error);

            //ajaxCall("GET", "../api/GetSuggestionCode?UserCode1=1&UserCode2=2", "", successGetLazy, error);

            //Rating = {
            //    TraineeCode: 1,
            //    RatedCode: 2,
            //    AvgTotalRate:3
            //}

            //obj = JSON.stringify(Rating);
            //ajaxCall("POST", "../api/InsertNewRating", obj, successGetLazy, error);

            //ajaxCall("GET", "../api/CheckActiveSuggestions?SenderCode=1&ReceiverCode=2", "", successGetLazy, error);

            //ParametersRate = {
            //    RatingCode: 39,
            //    ParameterCode: 1,
            //    Rate:5
            //}

            //obj = JSON.stringify(ParametersRate);

            //ajaxCall("POST", "../api/InsertParametersRate", obj, successGetLazy, error);

            //ajaxCall("GET", "../api/CheckIfRateExists?UserCode=1&RatedUserCode=2","" , successGetLazy, error);
            //ajaxCall("GET", "../api/ShowProfile?UserCode=1", "", successGetLazy, error);
            //ajaxCall("GET", "../api/GetSportCategories", "", successGetLazy, error);
            //ajaxCall("GET", "../api/GetAvarageParametersRate?UserCode=2", "", successGetLazy, error);
            //ajaxCall("GET", "../api/GetTraineeProfileDetails?UserCode=1", "", successGetLazy, error);
            //ajaxCall("GET", "../api/GetTrainerProfileDetails?UserCode=4", "", successGetLazy, error);

            //TraineeDetails = {
            //    TraineeCode: 40,
            //    Picture: 'stav',
            //    SearchRadius: 4000,
            //    MaxBudget: 4000,
            //    PartnerGender: 'stav',
            //    TrainerGender: 'stav',
            //    MinPartnerAge: 4000,
            //    MaxPartnerAge: 4000,
            //    SportCategories: [
            //        {
            //            CategoryCode: 8,
            //            Description: 'Short Run',
            //        },
            //        {
            //            CategoryCode: 2,
            //            Description: 'Jogging',
            //        },
            //    ]

            //}
            //obj = JSON.stringify(TraineeDetails);

            //ajaxCall("POST", "../api/UpdateTraineeDetails", obj, successGetLazy, error);

            // ParametersRate = {
            //    RatingCode: 1,
            //    ParameterCode: 1,
            //    Rate:5
            //}

            //obj = JSON.stringify(ParametersRate);

            //ajaxCall("POST", "../api/UpdateExistingParametersRate", obj, successGetLazy, error);

            //Rating = {
            //    RatingCode: 44,
            //    AvgTotalRate: 5,
            //    RatedCode:2
            //}
            //obj = JSON.stringify(Rating);

            //ajaxCall("POST", "../api/UpdateExistingAvarageRate", obj, successGetLazy, error);

            //   ParametersRate = {
            //    RatingCode: 27,
            //    ParameterCode: 5,
            //    Rate:2
            //}

            //obj = JSON.stringify(ParametersRate);

            //ajaxCall("POST", "../api/UpdateExistingParametersRate", obj, successGetLazy, error);



            //ajaxCall("GET", "../api/GetMessages?ChatCode=1", "", successGetLazy, error);

            //ajaxCall("GET", "../api/GetPastCoupleTrainings?UserCode=1", "", successGetLazy, error);
            //ajaxCall("GET", "../api/GetPastGroupTrainings?UserCode=1", "", successGetLazy, error);

            //ajaxCall("GET", "../api/CheckActiveSuggestions?SenderCode=1&ReceiverCode=2", "", successSendSuggestion, error);

            //var CoupleTraining = {
            //    TrainingTime: "2019-05-24 16:00:00.000",
            //    Latitude: "32.360869",
            //    Longitude: "34.862154",
            //    WithTrainer: 1,
            //    Price: 150,
            //    SuggestionCode: 53
            //}

            //obj = JSON.stringify(CoupleTraining);
            //console.log(obj);
            //ajaxCall("POST", "../api/InsertCoupleTraining", obj, successInsertOnline, error);
            //var Message = {
            //    ChatCode: 1,
            //    SenderCode: 1,
            //    Content: 'ccc:)'

            //}

            //obj = JSON.stringify(Message);
            //console.log(obj);
            //ajaxCall("POST", "../api/SendMessage", obj, successInsertOnline, error);

        });


        // send push notifications to lazy trainees/trainers
        function successGetLazy(data) {
            console.log(data);
            //for (var i = 0; i < data.length; i++) {
            //    var pnd = {
            //        to: data[i].Token,
            //        title: 'Long Time No See',
            //        body: 'Hi ' + data[i].FirstName + ", we've missed you! ",
            //        badge: 1
            //    }
            //    ajaxCall("POST", "../sendpushnotification", JSON.stringify(pnd), success1, error);
            //}
        }

        // send push notifications to lazy trainees/trainers
        function successSendSuggestion(data) {
            console.log(data);

            //var pnd = {
            //	to: data,
            //	title: 'You have a new suggestion!',
            //	body: '///// ',
            //	badge: 1
            //}

            //    ajaxCall("POST", "../sendpushnotification", JSON.stringify(pnd), success1, error);

        }

        function successInsertOnline(data) {
            console.log(data);
        }

        function successInsertOnline1(data) {
            console.log(data);
        }

        function success1(data) {
            alert(data);
        }

        function success(data) {
            console.log(data);
            if (data) {
                trainee = {
                    Email: "stav@gmail.com",
                    Password: "12345"
                }
                ajaxCall("POST", "../api/CheckIfPasswordMatches", JSON.stringify(trainee), successPassword, error);
            }

            else {
                alert("user not exists");
            }
        }

        function successPassword(data) {
            if (data != 0)
                alert(data);
            else alert("incorrect password")

        }

        function error(err) {
            console.log(err);
        }


    </script>
</head>
<body>
</body>
</html>
